<meta charset="UTF-8">
<!-- Header -->
<header>
	<div class="container">
		<div class="row">
			<div class="col-lg-12">
				<div class="intro-text">
					<span class="name">{{Titulo}}</span>
				</div>
			</div>
		</div>
	</div>
</header>

<!-- Portfolio Grid Section -->
<section class="grid_negocios" ng-controller="NegocioController">
	<div class="container">
		
		<div class="row">
			<div class="table-scrollable table-scrollable-borderless">
				<div class="col-sm-6 col-xs-12  search_bar">
					<input type="text" class="form-control" ng-model="procurar"
					placeholder="Buscar Negócio" id="Nome do negócio" required
					data-validation-required-message="Por favor insira um nome">
				</div>

				<div class="col-sm-6 col-xs-12">
					<div class="to-right btn-group">
						<a title="Relatorio Por Empresa" class="btn btn-default btn-sm" href="#/RelatorioNegocioEmpresa">Relatorio Por Empresa</a>
						<a title="Relatorio Por Contato" class="btn btn-default btn-sm" href="#/RelatorioNegocioContato" >Relatorio Por Contato</a> 
					</div>	
				</div>


				<table id="printarea" class="table table-hover table-light col-xs-12">
					<thead>
					<tr class="uppercase">
						
						<th ng-click="ordenar('usuario')">Usuário</th>
						<th ng-click="ordenar('nome')">Nome</th>						
						<th ng-click="ordenar('empresa')">Empresa</th>
						<th ng-click="ordenar('contato')">Contato</th>
						<th ng-click="ordenar('data')">Data</th>
						<th ng-click="ordenar('valor')">Valor</th>
						<th ng-click="ordenar('situacao')">Situação</th>
						<th>
							<a class="btn btn-success btn-sm" href="#/Negocio/Cadastrar">Adicionar</a>
						</th>

					</tr>
				</thead>
				<tbody>
					<tr dir-paginate="n in negociolist |filter:procurar|orderBy:sortKey:reverse|itemsPerPage:20" class="{{n.situacao}}" >
					
						
						<td>{{n.usuarioresponsavel.nome}}</td>
						<td>{{n.nome}}</td>
						<td>{{n.empresa.razaosocial}}</td>		
						<td>{{n.contato.nome}}</td>						
						<td>{{n.data}}</td>
						<td>R$ {{n.valor}}</td>
						<td>{{n.situacao}}</td>
						
						<td class="btn-group">
						<div class="to-right btn-group">
							<a title="Editar {{Titulo}}" class="btn btn-warning btn-sm" href="#/Negocio/Editar/{{n.id}}">Editar</a>
							<a title="Excluir {{Titulo}}" class="btn btn-danger btn-sm" href="javascript:void(0)" ng-click='Excluir(n.id)'>Excluir</a> 
						</div>			
					</tr>
					

				</tbody>
				</table>
				
			</div>
			<div class="col-xs-12">
				<dir-pagination-controls max-size="5" boundary-links="true"></dir-pagination-controls>
				<a class="btn btn-default btn-sm to-right" href="javascript:print();">Gerar Relatório</a>					
			</div>
		</div>
	</div>
</section>